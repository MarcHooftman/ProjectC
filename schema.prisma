generator erd {
  provider = "prisma-erd-generator"
}

datasource db {
  provider = "postgresql"
  url      = "https://localhost:7185/api"
}

model User {
  ID       Int       @id
  Email    String
  PassWord String
  Profile  Profile[]
}

model Profile {
  ID               Int         @id
  UserID           Int
  User             User        @relation(fields: [userID], references: [ID])
  FullName         String
  Bio              String
  MemberSince      String
  LastLogin        String
  Role             String
  DateOfBirth      String
  Department       String
  ProfilePictureID Int
  ProfilePicture   Media       @relation(fields: [mediaID], references: [ID])
  PhoneNumber      String
  TrainingsWatched Training[]
  userID           Int
  mediaID          Int
  ForumPost        ForumPost[]
}

model Media {
  ID       Int        @id
  Type     String
  URL      String
  Profile  Profile[]
  Training Training[]
}

model Like {
  ID          Int        @id
  ForumPostID Int
  ProfileID   Int
  ForumPost   ForumPost? @relation(fields: [forumPostID], references: [ID])
  forumPostID Int?
}

model Report {
  ID          Int        @id
  ForumPostID Int
  ProfileID   Int
  ForumPost   ForumPost? @relation(fields: [forumPostID], references: [ID])
  forumPostID Int?
}

model Tag {
  ID   Int    @id
  Name String
}

model Activity {
  ID          Int    @id
  Title       String
  Description String
  Location    String
  Time        String
}

model Training {
  ID          Int      @id
  Title       String
  Description String
  MediaID     Int
  Media       Media    @relation(fields: [mediaID], references: [ID])
  Profile     Profile? @relation(fields: [profileID], references: [ID])
  profileID   Int?
  mediaID     Int
}

model ForumPost {
  ID          Int      @id
  Title       String
  Content     String
  ProfileID   Int
  Profile     Profile  @relation(fields: [profileID], references: [ID])
  Time        String
  ForumPostID Int
  Likes       Like[]
  Reports     Report[]
  profileID   Int
}
